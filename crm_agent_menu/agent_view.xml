<?xml version="1.0"?>
<openerp>
    <data>
        
        
        <record model="ir.actions.act_window" id="action_sale_order_form_agent_form">
            <field name="name">New order</field>
            <field name="res_model">sale.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
            <field name="context">{}</field>
            <field name="domain">[('user_id','=',uid)]</field>
        </record>
        <record model="ir.actions.act_window" id="action_sale_quotation_form_agent_tree">
            <field name="name">Quotation</field>
            <field name="res_model">sale.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
            <field name="context">{}</field>
            <field name="domain">[('user_id','=',uid),('state','in',('draft','cancel'))]</field>
        </record>
        <record model="ir.actions.act_window" id="action_sale_order_form_agent_tree">
            <field name="name">Order</field>
            <field name="res_model">sale.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="domain">[('user_id','=',uid),('state','not in','draft','cancel','sent')]</field>
        </record>
        <record model="ir.actions.act_window" id="action_sale_cancel_form_agent_tree">
            <field name="name">Cancel order</field>
            <field name="res_model">sale.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
            <field name="context">{}</field>
            <field name="domain">[('user_id','=',uid),('state','in',('cancel'))]</field>
        </record>

        <record model="ir.actions.act_window" id="action_sale_order_partner">
            <field name="name">Partner</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('user_id','=',uid),('customer','=',True),('is_company','=',True)]</field>
        </record>

        <!--Agent block-->
        <menuitem 
            parent="menuitem_agent.menu_sale_agent_order" 
            id="menu_sale_order_form_agent" 
            action="action_sale_order_form_agent_form"
            sequence="10"
            />        
        <menuitem 
            parent="menuitem_agent.menu_sale_agent_order" 
            id="menu_sale_order_quotation_tree_agent" 
            action="action_sale_quotation_form_agent_tree"
            sequence="20"
            />
            <menuitem 
                parent="menu_sale_order_quotation_tree_agent" 
                id="menu_sale_order_tree_cancel_agent" 
                action="action_sale_cancel_form_agent_tree"
                sequence="10"
                />
        <menuitem 
            parent="menuitem_agent.menu_sale_agent_order" 
            id="menu_sale_order_tree_agent" 
            action="action_sale_order_form_agent_tree"
            sequence="30"
            />        
            
        <menuitem 
            parent="menuitem_agent.menu_sale_agent_anagraphic" 
            id="menu_sale_order_partner" 
            action="action_sale_order_partner"
            sequence="10"
            />        
    </data>
</openerp>

